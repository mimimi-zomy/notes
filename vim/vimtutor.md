# VIM教本（vimtutor） まとめ
## Lesson0 事前確認
- ターミナルに`vimtutor`と打ち込むことで起動する
- `Caps`ロックキーは押されていないことを確認
- `ESC`キーでノーマルモードに変換
- コマンドは常に半角英数で入力すること
## Lesson1 要約
### カーソルの移動
- カーソルは矢印キーもしくは `hjkl` キーで移動します。
- 移動する方向と操作キーの対応は以下テーブルの通りです。
- 下へのキー（j）を押し続けると連続して移動します。

| 移動方向 | 上 | 右 | 左 | 下 |
|:------:|:--:|:--:|:--:|:--:|
| 矢印タブ | ↑ | → | ← | ↓ |
| 操作キー | k | l | h | j |

### VIM の起動と終了
- Vim を起動するにはプロンプトから `vim ファイル名` `ENTER` とタイプします。
### 変更の破棄と保存
- Vim を終了するには`ESC` `:q!` `ENTER` とタイプします(変更を破棄)。
- もしくは`ESC` `:wq` `ENTER` とタイプします(変更を保存)。
### テキスト編集 - 削除
- カーソルの下の文字を削除するには、ノーマルモードで`x`とタイプします。
### テキスト編集 - 挿入と追加
- カーソルの位置に文字を挿入するには、ノーマルモードで`i`とタイプします。
  - `i` → テキストのタイプ → `ESC`：カーソル位置に追加
  - `A` →　テキストの追加 →　`ESC`：行末に追加
## Lesson2 要約
### 削除コマンド
- カーソル位置から**次の単語までを削除**するには`dw`とタイプします。
- カーソル位置から**単語の末尾までを削除**するには`de`とタイプします。
- カーソル位置から**行の末尾までを削除**するには`d$`とタイプします。
- **行全体を削除**するには`dd`とタイプします。
### 繰り返しのモーション
- 何回も行いたいモーションを繰り返すには数値を付与します:`2w`
- 変更に用いるコマンドの形式は `オペレータ [数値] モーション`
- それぞれ:
  - オペレータ : 削除`d`の類で何をするか。
  - [数値] : そのコマンドを何回繰り返すか。
  - モーション : `w`(単語)や`e`(単語末尾)、`$`(行末)などの類で、テキストの何に対して働きかけるか。
- 行の先頭に移動するにはゼロを使用します:`0`
### やり直しコマンド
- 前回の動作を取り消す:`u`(小文字 u)
- 行全体の変更を取り消す:`U`(大文字 U)
- 取り消しの取り消し:`CTRL-R`
## Lesson3 要約
- 既に削除されたテキストを再配置するには、`p`をタイプします。これは削除されたテキストをカーソルの後に挿入します(行単位で削除されたのならば、カーソルのある次の行に挿入されます)。
- カーソルの下の文字を置き換えるには、`r`をタイプした後、それを置き換える文字をタイプします。
- 変更コマンドではカーソル位置から特定のモーションで指定される終端までを変更することが可能です。例えば`ce`ならばカーソル位置から単語の終わりまで、`c$`ならば行の終わりまでを変更します。
- 変更コマンドの形式は`c [数値] モーション`
  - モーション : `w`(単語)や`e`(単語末尾)、`$`(行末) など
## Lesson4 要約
### 位置とファイルの情報
- `CTRL-G` はファイルでの位置とファイルの詳細を表示します。
- `G`はファイルの最下行に移動します。
- 数値`G`はその行に移動します。
- `gg`は先頭行に移動します。
### 検索コマンド
- `/` の後に語句をタイプすると前方に語句を検索します。
- `?` の後に語句をタイプすると後方に語句を検索します。
- 検索の後の`n`は同じ方向の次の検索を、`N`は逆方向の検索をします。
- `CTRL-O`は場所を前に移し、`CTRL-I`は場所を次に移動します。
### 対応する括弧を検索
- `(`,`)`,`[`,`]`,`{`, もしくは`}`上にカーソルがある状態で`%`をタイプすると対になる文
字へ移動します。
### 間違いを変更する方法
- 現在行の最初の **old** を **new** に置換する。 `:s/old/new`
- 現在行の全ての **old** を **new** に置換する。 `:s/old/new/g`
- 2つの **#** 行の間で語句を置換する。 `:#,#s/old/new/g`
- ファイルの中の全ての検索語句を置換する。 `:%s/old/new/g`
- 'c' を加えると置換の度に確認を求める。 `:%s/old/new/gc`
## Lesson5 要約
### 外部コマンドを実行する方法
- `:!command` によって外部コマンドを実行する。
- よく使う例:
  
| Windows | Unix | 意味 |
|:---------:|:------:|:----:|
| `:!dir` | `:!ls` |ディレクトリ内の一覧を見る。|    
| `:!del FILENAME` | `:!rm FILENAME` | ファイルを削除する。 |

### その他のファイルへ書き込み
- `:w ファイル名` によってファイル名というファイルがディスクに書き込まれる。
### ファイルの一部を保存
- v モーションで `:w FILENAME` とすると、ビジュアル選択行がファイルに保存される。
### ファイルの取込と合併
- `:r ファイル名` によりファイル名というファイルがディスクより取り込まれ、カーソル位置の下に挿入される。
- `:r !dir` は dir コマンドの出力をカーソル位置以下に読み込む。
## Lesson6 要約
### オープンコマンド
- `o` をタイプするとカーソルの下の行を開けて、そこで挿入モードになる。
- `O` (大文字) をタイプするとカーソルの上の行で挿入モードになる。
### 追加コマンド
- カーソル上の文字の次からテキストを追加するには`a`とタイプする。
- 行末にテキストを挿入するには大文字`A`をタイプする。
- (`e` コマンドは単語の終端にカーソルを移動する)
### テキストのコピーとペースト
- `y`オペレータはテキストを yank (コピー)し、`p`はそれを put (ペースト)する。
### 置換
- 大文字の`R`をタイプすると置換モードに入り、<ESC> を押すと抜ける。
### オプションの設定
- `:set xxx` とタイプするとオプション "xxx" が設定される。
### 検索
- `ic` `ignorecase` : 　検索時に大文字小文字の区別しない
- `is` `incsearch` :  検索フレーズに部分マッチしている部分を表示する
- `hls` `hlsearch` :  マッチするすべてを強調表示する
※長い方、短い方、どちらのオプション名でも使用できます。
### 無効
- オプションを無効にするには **no** を付与する: `:set noic`
## Lesson7 要約
- ヘルプウィンドウを開くには `:help` とするか 【`F1`キー】 もしくは 【`HELP`キー】を押す。
- コマンド(cmd)のヘルプを検索するには `:help cmd` とタイプする。
- 別のウィンドウへジャンプするには `CTRL-W` とタイプする。
- ヘルプウィンドウを閉じるには `:q` とタイプする。
- お好みの設定を保つには `vimrc` 起動スクリプトを作成する。
- `: command` で可能な補完を見るには `CTRL-D` をタイプする。補完を使用するには 【`TAB`キー】 を押す。
